@using ApiProjeKampi.WebUI.Dtos.AISuggestionDtos
@model List<MenuSuggestionDto>

<div class="col-md-6 col-lg-12 col-xl-6">
    <div class="card">
        <div class="card-header d-flex justify-content-between align-items-center">
            <h4>AI Günün Menüsü</h4>

            <form class="card-header-form">
                <input type="text" name="search" class="form-control" placeholder="Menü Arayınız...">
            </form>
        </div>

        <div class="card-body">

            @if (Model == null || !Model.Any())
            {
                <div class="alert alert-warning text-center">
                    <i class="fas fa-exclamation-triangle mr-1"></i>
                    AI menü verisi şu anda bulunamadı.
                </div>
            }
            else
            {
                @foreach (var menu in Model)
                {
                    <div class="support-ticket media pb-1 mb-3">

                        <img src="https://flagsapi.com/@(menu.CountryCode)/flat/64.png"
                             class="user-img mr-2"
                             alt="flag">

                        <div class="media-body ml-3">

                            <div class="badge badge-pill badge-primary mb-1 float-right">
                                @menu.Cuisine
                            </div>

                            <span class="font-weight-bold">@menu.MenuTitle</span>

                            <a href="javascript:void(0)">Today's Menu</a>

                            <ul class="pl-3 my-1">
                                @foreach (var item in menu.Items)
                                {
                                    <li>
                                        <strong>@item.Name</strong> – @item.Description
                                        <span class="text-muted">(₺@item.Price)</span>
                                    </li>
                                }
                            </ul>

                            <small class="text-muted">
                                Generated by <span class="font-weight-bold font-13">AI Chef</span>
                                &nbsp; - @DateTime.Now.ToString("dd MMM yyyy")
                            </small>

                        </div>
                    </div>
                }
            }

        </div>

        <a href="javascript:void(0)"
           class="card-footer card-link text-center small">
            Menü Güncelle 🔄
        </a>
    </div>
</div>
